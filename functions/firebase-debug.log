[debug] [2025-03-27T16:35:42.121Z] ----------------------------------------------------------------------
[debug] [2025-03-27T16:35:42.124Z] Command:       C:\nvm4w\nodejs\node.exe C:\nvm4w\nodejs\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2025-03-27T16:35:42.125Z] CLI Version:   13.33.0
[debug] [2025-03-27T16:35:42.125Z] Platform:      win32
[debug] [2025-03-27T16:35:42.125Z] Node Version:  v22.14.0
[debug] [2025-03-27T16:35:42.126Z] Time:          Thu Mar 27 2025 21:35:42 GMT+0500 (Pakistan Standard Time)
[debug] [2025-03-27T16:35:42.126Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-03-27T16:35:42.503Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-03-27T16:35:42.504Z] > authorizing via signed-in user (abidhuzaifa128@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-03-27T16:35:42.515Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-27T16:35:42.515Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-03-27T16:35:42.526Z] [hub] writing locator at C:\Users\abidh\AppData\Local\Temp\hub-espace-etude.json
[debug] [2025-03-27T16:35:42.550Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-27T16:35:42.551Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-27T16:35:42.551Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-27T16:35:42.551Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-03-27T16:35:42.555Z] defaultcredentials: writing to file C:\Users\abidh\AppData\Roaming\firebase\abidhuzaifa128_gmail_com_application_default_credentials.json
[debug] [2025-03-27T16:35:42.559Z] Setting GAC to C:\Users\abidh\AppData\Roaming\firebase\abidhuzaifa128_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\abidh\\AppData\\Roaming\\firebase\\abidhuzaifa128_gmail_com_application_default_credentials.json"}}
[debug] [2025-03-27T16:35:42.561Z] Checked if tokens are valid: true, expires at: 1743096766986
[debug] [2025-03-27T16:35:42.561Z] Checked if tokens are valid: true, expires at: 1743096766986
[debug] [2025-03-27T16:35:42.562Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig [none]
[debug] [2025-03-27T16:35:43.080Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig 200
[debug] [2025-03-27T16:35:43.081Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig {"projectId":"espace-etude","storageBucket":"espace-etude.firebasestorage.app"}
[info] i  functions: Watching "C:\Projects\espace-etude-project\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Projects\\espace-etude-project\\functions\" for Cloud Functions..."}}
[debug] [2025-03-27T16:35:43.116Z] Validating nodejs source
[debug] [2025-03-27T16:35:44.653Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T16:35:44.653Z] Building nodejs source
[debug] [2025-03-27T16:35:44.653Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T16:35:44.657Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T16:35:44.672Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8385

[debug] [2025-03-27T16:35:45.630Z] Got response from /__/functions.yaml {"endpoints":{"getTotalUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getTotalUsers"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-27T16:35:46.576Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T16:35:46.579Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T16:35:46.582Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-03-27T16:35:46.584Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-03-27T16:35:47.596Z] Validating nodejs source
[debug] [2025-03-27T16:35:48.916Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T16:35:48.917Z] Building nodejs source
[debug] [2025-03-27T16:35:48.917Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T16:35:48.919Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T16:35:48.937Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8717

[info] +  functions: Loaded functions definitions from source: getTotalUsers. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getTotalUsers."}}
[info] +  functions[us-central1-getTotalUsers]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getTotalUsers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getTotalUsers)."}}
[debug] [2025-03-27T16:35:49.676Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-03-27T16:35:49.784Z] Got response from /__/functions.yaml {"endpoints":{"getTotalUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getTotalUsers"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getTotalUsers. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getTotalUsers."}}
[debug] [2025-03-27T16:36:43.216Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:36:43.215Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:36:43.219Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:36:43.215Z"],"workRunningCount":1}
[debug] [2025-03-27T16:36:43.220Z] Accepted request GET /espace-etude/us-central1/getTotalUsers --> us-central1-getTotalUsers
[debug] [2025-03-27T16:36:43.233Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T16:36:43.235Z] [functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/"}}
[debug] [2025-03-27T16:36:43.265Z] [worker-pool] addWorker(us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getTotalUsers)"}}
[debug] [2025-03-27T16:36:43.267Z] [worker-pool] Adding worker with key us-central1-getTotalUsers, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getTotalUsers, total=1"}}
[debug] [2025-03-27T16:36:45.272Z] [runtime-status] [7660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.273Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.274Z] [runtime-status] [7660] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-27T16:36:45.275Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.703Z] [runtime-status] [7660] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-27T16:36:45.703Z] [runtime-status] [7660] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-27T16:36:45.704Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.711Z] [runtime-status] [7660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.714Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:36:45.715Z] [runtime-status] [7660] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-27T16:36:45.718Z] [runtime-status] [7660] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[warn] !  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2025-03-27T16:36:45.727Z] [runtime-status] [7660] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-03-27T16:36:45.727Z] [runtime-status] [7660] Listening to port: \\?\pipe\fire_emu_7a0baf59f9f19a93 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [7660] Listening to port: \\\\?\\pipe\\fire_emu_7a0baf59f9f19a93"}}
[debug] [2025-03-27T16:36:45.779Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE"}}
[debug] [2025-03-27T16:36:45.780Z] [worker-pool] submitRequest(triggerId=us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getTotalUsers)"}}
[info] i  functions: Beginning execution of "us-central1-getTotalUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Beginning execution of \"us-central1-getTotalUsers\""}}
[debug] [2025-03-27T16:36:45.780Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-03-27T16:36:47.767Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getTotalUsers" in 1986.7675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finished \"us-central1-getTotalUsers\" in 1986.7675ms"}}
[debug] [2025-03-27T16:36:47.768Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE"}}
[debug] [2025-03-27T16:36:47.768Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T16:36:47.769Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T16:36:47.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:13.846Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T16:37:14.325Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T16:37:14.326Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T16:37:14.336Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-03-27T16:37:14.336Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-03-27T16:37:15.341Z] Validating nodejs source
[debug] [2025-03-27T16:37:17.209Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T16:37:17.209Z] Building nodejs source
[debug] [2025-03-27T16:37:17.210Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T16:37:17.210Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T16:37:17.227Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-27T16:37:17.335Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:17.335Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:17.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:17.335Z"],"workRunningCount":1}
[debug] [2025-03-27T16:37:17.335Z] Accepted request GET /espace-etude/us-central1/getTotalUsers --> us-central1-getTotalUsers
[debug] [2025-03-27T16:37:17.339Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T16:37:17.339Z] [functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/"}}
[debug] [2025-03-27T16:37:17.339Z] [worker-pool] submitRequest(triggerId=us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getTotalUsers)"}}
[info] i  functions: Beginning execution of "us-central1-getTotalUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Beginning execution of \"us-central1-getTotalUsers\""}}
[debug] [2025-03-27T16:37:17.340Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY"}}
[info] Serving at port 8146

[debug] [2025-03-27T16:37:17.607Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getTotalUsers" in 267.8582ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finished \"us-central1-getTotalUsers\" in 267.8582ms"}}
[debug] [2025-03-27T16:37:17.608Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE"}}
[debug] [2025-03-27T16:37:17.608Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T16:37:17.608Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T16:37:17.608Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:17.689Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-03-27T16:37:18.095Z] Got response from /__/functions.yaml {"endpoints":{"getTotalUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getTotalUsers"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-27T16:37:20.175Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:20.175Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:20.176Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:20.175Z"],"workRunningCount":1}
[debug] [2025-03-27T16:37:20.176Z] Accepted request GET /espace-etude/us-central1/getTotalUsers --> us-central1-getTotalUsers
[debug] [2025-03-27T16:37:20.179Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T16:37:20.179Z] [functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/"}}
[debug] [2025-03-27T16:37:20.179Z] [worker-pool] submitRequest(triggerId=us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getTotalUsers)"}}
[info] i  functions: Beginning execution of "us-central1-getTotalUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Beginning execution of \"us-central1-getTotalUsers\""}}
[debug] [2025-03-27T16:37:20.180Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: BUSY"}}
[debug] [2025-03-27T16:37:20.367Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getTotalUsers" in 187.122ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finished \"us-central1-getTotalUsers\" in 187.122ms"}}
[debug] [2025-03-27T16:37:20.368Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: IDLE"}}
[debug] [2025-03-27T16:37:20.369Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T16:37:20.369Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T16:37:20.371Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:20.505Z] Functions emulator received unknown request at path /favicon.ico
[info] +  functions: Loaded functions definitions from source: getTotalUsers. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getTotalUsers."}}
[debug] [2025-03-27T16:37:22.202Z] [worker-pool] Shutting down IDLE worker (us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getTotalUsers)"}}
[debug] [2025-03-27T16:37:22.203Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: FINISHING"}}
[debug] [2025-03-27T16:37:22.228Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: exited"}}
[debug] [2025-03-27T16:37:22.229Z] [worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-17e0ce80-c947-4f7a-bd19-39774f690aa1]: FINISHED"}}
[debug] [2025-03-27T16:37:25.032Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:25.032Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:25.033Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getTotalUsers-2025-03-27T16:37:25.032Z"],"workRunningCount":1}
[debug] [2025-03-27T16:37:25.033Z] Accepted request GET /espace-etude/us-central1/getTotalUsers --> us-central1-getTotalUsers
[debug] [2025-03-27T16:37:25.036Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T16:37:25.036Z] [functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getTotalUsers, mapping to path=/"}}
[debug] [2025-03-27T16:37:25.037Z] [worker-pool] Cleaned up workers for us-central1-getTotalUsers: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getTotalUsers: 1 --> 0"}}
[debug] [2025-03-27T16:37:25.075Z] [worker-pool] addWorker(us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getTotalUsers)"}}
[debug] [2025-03-27T16:37:25.077Z] [worker-pool] Adding worker with key us-central1-getTotalUsers, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getTotalUsers, total=1"}}
[debug] [2025-03-27T16:37:26.872Z] [runtime-status] [6504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:26.874Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:26.874Z] [runtime-status] [6504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-27T16:37:26.875Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:27.305Z] [runtime-status] [6504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-27T16:37:27.305Z] [runtime-status] [6504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-27T16:37:27.306Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:27.312Z] [runtime-status] [6504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:27.315Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T16:37:27.315Z] [runtime-status] [6504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-27T16:37:27.318Z] [runtime-status] [6504] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-03-27T16:37:27.327Z] [runtime-status] [6504] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-03-27T16:37:27.328Z] [runtime-status] [6504] Listening to port: \\?\pipe\fire_emu_19a7018052dbc0e4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[runtime-status] [6504] Listening to port: \\\\?\\pipe\\fire_emu_19a7018052dbc0e4"}}
[debug] [2025-03-27T16:37:27.390Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: IDLE"}}
[debug] [2025-03-27T16:37:27.390Z] [worker-pool] submitRequest(triggerId=us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getTotalUsers)"}}
[info] i  functions: Beginning execution of "us-central1-getTotalUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Beginning execution of \"us-central1-getTotalUsers\""}}
[debug] [2025-03-27T16:37:27.391Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-03-27T16:37:29.391Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getTotalUsers" in 2000.7111ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finished \"us-central1-getTotalUsers\" in 2000.7111ms"}}
[debug] [2025-03-27T16:37:29.394Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: IDLE"}}
[debug] [2025-03-27T16:37:29.395Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T16:37:29.396Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T16:37:29.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T16:37:29.551Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-03-27T16:37:33.284Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T16:37:33.700Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T16:37:33.701Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T16:37:34.705Z] Validating nodejs source
[debug] [2025-03-27T16:37:36.326Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T16:37:36.326Z] Building nodejs source
[debug] [2025-03-27T16:37:36.326Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T16:37:36.327Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T16:37:36.339Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8800

[debug] [2025-03-27T16:37:37.159Z] Got response from /__/functions.yaml {"endpoints":{"getTotalUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getTotalUsers"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getTotalUsers. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getTotalUsers."}}
[debug] [2025-03-27T16:37:41.191Z] [worker-pool] Shutting down IDLE worker (us-central1-getTotalUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getTotalUsers)"}}
[debug] [2025-03-27T16:37:41.191Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: FINISHING"}}
[debug] [2025-03-27T16:37:41.232Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: exited"}}
[debug] [2025-03-27T16:37:41.232Z] [worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getTotalUsers"},"extension":{},"message":"[worker-us-central1-getTotalUsers-435ab497-f3f8-4480-8b9f-3ffa074fbf45]: FINISHED"}}
[debug] [2025-03-27T17:33:25.415Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:33:25.871Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:33:25.871Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:33:25.877Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:33:25.879Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-03-27T17:33:26.883Z] Validating nodejs source
[debug] [2025-03-27T17:33:28.874Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:33:28.875Z] Building nodejs source
[debug] [2025-03-27T17:33:28.875Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:33:28.876Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:33:28.894Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8885

[debug] [2025-03-27T17:33:29.938Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-03-27T17:34:15.650Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:34:16.005Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:34:16.007Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:34:17.015Z] Validating nodejs source
[debug] [2025-03-27T17:34:18.504Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:34:18.504Z] Building nodejs source
[debug] [2025-03-27T17:34:18.504Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:34:18.505Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:34:18.516Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8088

[debug] [2025-03-27T17:34:19.392Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-03-27T17:34:30.003Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:34:30.467Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:34:30.467Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:34:31.495Z] Validating nodejs source
[debug] [2025-03-27T17:34:32.901Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:34:32.901Z] Building nodejs source
[debug] [2025-03-27T17:34:32.902Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:34:32.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:34:32.919Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8719

[debug] [2025-03-27T17:34:33.509Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:34:33.803Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-27T17:34:33.833Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:34:33.834Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:34:34.837Z] Validating nodejs source
[debug] [2025-03-27T17:34:36.224Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:34:36.224Z] Building nodejs source
[debug] [2025-03-27T17:34:36.224Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:34:36.225Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:34:36.235Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8071

[debug] [2025-03-27T17:34:37.150Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-03-27T17:34:44.542Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:34:44.921Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:34:44.925Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:34:45.939Z] Validating nodejs source
[debug] [2025-03-27T17:34:47.582Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:34:47.583Z] Building nodejs source
[debug] [2025-03-27T17:34:47.583Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:34:47.586Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:34:47.605Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8508

[debug] [2025-03-27T17:34:48.445Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-03-27T17:43:24.305Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:43:24.305Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:43:24.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:43:24.305Z"],"workRunningCount":1}
[debug] [2025-03-27T17:43:24.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:43:38.521Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:43:39.534Z] Validating nodejs source
[debug] [2025-03-27T17:43:42.013Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:43:42.014Z] Building nodejs source
[debug] [2025-03-27T17:43:42.014Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:43:42.014Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:43:42.026Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8774

[debug] [2025-03-27T17:43:42.999Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-03-27T17:43:50.941Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:43:51.239Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:43:51.239Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-03-27T17:43:52.246Z] Validating nodejs source
[debug] [2025-03-27T17:43:53.854Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:43:53.855Z] Building nodejs source
[debug] [2025-03-27T17:43:53.855Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:43:53.855Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:43:53.866Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-27T17:43:53.874Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:43:53.873Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:43:53.874Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:43:53.873Z"],"workRunningCount":1}
[debug] [2025-03-27T17:43:53.875Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:43:53.975Z] Functions emulator received unknown request at path /favicon.ico
[info] Serving at port 8914

[debug] [2025-03-27T17:43:54.708Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getUsersStats. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats."}}
[info] +  functions[us-central1-getUsersStats]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getUsersStats). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getUsersStats)."}}
[debug] [2025-03-27T17:48:14.588Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:48:14.588Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:48:14.590Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:48:14.588Z"],"workRunningCount":1}
[debug] [2025-03-27T17:48:14.590Z] Accepted request GET /espace-etude/us-central1/getUsersStats?groupBy=grade --> us-central1-getUsersStats
[debug] [2025-03-27T17:48:14.601Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T17:48:14.602Z] [functions] Got req.url=/espace-etude/us-central1/getUsersStats?groupBy=grade, mapping to path=/?groupBy=grade {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getUsersStats?groupBy=grade, mapping to path=/?groupBy=grade"}}
[debug] [2025-03-27T17:48:14.602Z] [worker-pool] Cleaned up workers for us-central1-getTotalUsers: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getTotalUsers: 1 --> 0"}}
[debug] [2025-03-27T17:48:14.622Z] [worker-pool] addWorker(us-central1-getUsersStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getUsersStats)"}}
[debug] [2025-03-27T17:48:14.622Z] [worker-pool] Adding worker with key us-central1-getUsersStats, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getUsersStats, total=1"}}
[debug] [2025-03-27T17:48:16.518Z] [runtime-status] [7236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.519Z] [runtime-status] [7236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.520Z] [runtime-status] [7236] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-27T17:48:16.521Z] [runtime-status] [7236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.970Z] [runtime-status] [7236] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-27T17:48:16.970Z] [runtime-status] [7236] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-27T17:48:16.972Z] [runtime-status] [7236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.979Z] [runtime-status] [7236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.982Z] [runtime-status] [7236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-27T17:48:16.982Z] [runtime-status] [7236] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-27T17:48:16.985Z] [runtime-status] [7236] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-03-27T17:48:16.993Z] [runtime-status] [7236] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-03-27T17:48:16.994Z] [runtime-status] [7236] Listening to port: \\?\pipe\fire_emu_5144555d97329caf {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[runtime-status] [7236] Listening to port: \\\\?\\pipe\\fire_emu_5144555d97329caf"}}
[debug] [2025-03-27T17:48:17.082Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE"}}
[debug] [2025-03-27T17:48:17.083Z] [worker-pool] submitRequest(triggerId=us-central1-getUsersStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUsersStats)"}}
[info] i  functions: Beginning execution of "us-central1-getUsersStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Beginning execution of \"us-central1-getUsersStats\""}}
[debug] [2025-03-27T17:48:17.084Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-03-27T17:48:19.254Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getUsersStats" in 2170.7156ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finished \"us-central1-getUsersStats\" in 2170.7156ms"}}
[debug] [2025-03-27T17:48:19.255Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE"}}
[debug] [2025-03-27T17:48:19.255Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T17:48:19.256Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T17:48:19.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:48:19.356Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-03-27T17:51:29.575Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:51:29.575Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:51:29.575Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getUsersStats-2025-03-27T17:51:29.575Z"],"workRunningCount":1}
[debug] [2025-03-27T17:51:29.575Z] Accepted request GET /espace-etude/us-central1/getUsersStats?groupBy=city --> us-central1-getUsersStats
[debug] [2025-03-27T17:51:29.578Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-27T17:51:29.579Z] [functions] Got req.url=/espace-etude/us-central1/getUsersStats?groupBy=city, mapping to path=/?groupBy=city {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getUsersStats?groupBy=city, mapping to path=/?groupBy=city"}}
[debug] [2025-03-27T17:51:29.579Z] [worker-pool] submitRequest(triggerId=us-central1-getUsersStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUsersStats)"}}
[info] i  functions: Beginning execution of "us-central1-getUsersStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Beginning execution of \"us-central1-getUsersStats\""}}
[debug] [2025-03-27T17:51:29.579Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: BUSY"}}
[debug] [2025-03-27T17:51:29.843Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getUsersStats" in 264.1094ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finished \"us-central1-getUsersStats\" in 264.1094ms"}}
[debug] [2025-03-27T17:51:29.845Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: IDLE"}}
[debug] [2025-03-27T17:51:29.846Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-27T17:51:29.847Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-27T17:51:29.848Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-27T17:52:09.923Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:52:10.278Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:52:10.283Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:52:11.293Z] Validating nodejs source
[debug] [2025-03-27T17:52:13.009Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:52:13.009Z] Building nodejs source
[debug] [2025-03-27T17:52:13.009Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:52:13.010Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:52:13.023Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8891

[debug] [2025-03-27T17:52:13.491Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:52:13.798Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:52:13.800Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:52:13.937Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-27T17:52:14.808Z] Validating nodejs source
[debug] [2025-03-27T17:52:16.478Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:52:16.478Z] Building nodejs source
[debug] [2025-03-27T17:52:16.478Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:52:16.481Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:52:16.492Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8810

[debug] [2025-03-27T17:52:17.483Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getUsersStats. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats."}}
[debug] [2025-03-27T17:52:17.995Z] [worker-pool] Shutting down IDLE worker (us-central1-getUsersStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getUsersStats)"}}
[debug] [2025-03-27T17:52:17.995Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: FINISHING"}}
[debug] [2025-03-27T17:52:18.012Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: exited"}}
[debug] [2025-03-27T17:52:18.012Z] [worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getUsersStats"},"extension":{},"message":"[worker-us-central1-getUsersStats-fd51969d-f1b0-422d-b860-21421a64d6f9]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: getUsersStats. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats."}}
[debug] [2025-03-27T17:52:40.964Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-03-27T17:52:41.330Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-03-27T17:52:41.330Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-03-27T17:52:42.346Z] Validating nodejs source
[debug] [2025-03-27T17:52:43.906Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-03-27T17:52:43.906Z] Building nodejs source
[debug] [2025-03-27T17:52:43.906Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-03-27T17:52:43.907Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-27T17:52:43.921Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8504

[debug] [2025-03-27T17:52:44.721Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getUsersStats. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats."}}
[debug] [2025-04-02T04:01:51.292Z] ----------------------------------------------------------------------
[debug] [2025-04-02T04:01:51.296Z] Command:       C:\nvm4w\nodejs\node.exe C:\nvm4w\nodejs\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2025-04-02T04:01:51.297Z] CLI Version:   13.33.0
[debug] [2025-04-02T04:01:51.297Z] Platform:      win32
[debug] [2025-04-02T04:01:51.297Z] Node Version:  v22.14.0
[debug] [2025-04-02T04:01:51.297Z] Time:          Wed Apr 02 2025 09:01:51 GMT+0500 (Pakistan Standard Time)
[debug] [2025-04-02T04:01:51.298Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-02T04:01:51.319Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-04-02T04:01:51.633Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-02T04:01:51.633Z] > authorizing via signed-in user (abidhuzaifa128@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-04-02T04:01:51.648Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-04-02T04:01:51.648Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project espace-etude. This may result in unexpected behavior. 
[debug] [2025-04-02T04:01:51.656Z] [hub] writing locator at C:\Users\abidh\AppData\Local\Temp\hub-espace-etude.json
[debug] [2025-04-02T04:01:51.693Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-04-02T04:01:51.693Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-04-02T04:01:51.693Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-04-02T04:01:51.693Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-04-02T04:01:51.705Z] defaultcredentials: writing to file C:\Users\abidh\AppData\Roaming\firebase\abidhuzaifa128_gmail_com_application_default_credentials.json
[debug] [2025-04-02T04:01:51.707Z] Setting GAC to C:\Users\abidh\AppData\Roaming\firebase\abidhuzaifa128_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\abidh\\AppData\\Roaming\\firebase\\abidhuzaifa128_gmail_com_application_default_credentials.json"}}
[debug] [2025-04-02T04:01:51.709Z] Checked if tokens are valid: false, expires at: 1743096766986
[debug] [2025-04-02T04:01:51.709Z] Checked if tokens are valid: false, expires at: 1743096766986
[debug] [2025-04-02T04:01:51.710Z] > refreshing access token with scopes: []
[debug] [2025-04-02T04:01:51.712Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-04-02T04:01:51.712Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-02T04:01:52.141Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-04-02T04:01:52.141Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-02T04:01:52.177Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig [none]
[debug] [2025-04-02T04:01:52.254Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-04-02T04:01:52.254Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-04-02T04:01:52.813Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig 200
[debug] [2025-04-02T04:01:52.813Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/espace-etude/adminSdkConfig {"projectId":"espace-etude","storageBucket":"espace-etude.firebasestorage.app"}
[info] i  functions: Watching "C:\Projects\espace-etude-project\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Projects\\espace-etude-project\\functions\" for Cloud Functions..."}}
[debug] [2025-04-02T04:01:52.868Z] Validating nodejs source
[debug] [2025-04-02T04:01:54.193Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:01:54.193Z] Building nodejs source
[debug] [2025-04-02T04:01:54.194Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:01:54.196Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:01:54.202Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8163

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:31:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:02:02.383Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:02:06.414Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-04-02T04:03:40.876Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:03:41.555Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:41.559Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:03:41.566Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:41.572Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:03:42.574Z] Validating nodejs source
[debug] [2025-04-02T04:03:43.684Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:03:43.685Z] Building nodejs source
[debug] [2025-04-02T04:03:43.685Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:03:43.686Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:03:43.694Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8015

[debug] [2025-04-02T04:03:44.426Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"},"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:03:45.966Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:03:46.463Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:46.465Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:03:47.470Z] Validating nodejs source
[debug] [2025-04-02T04:03:48.550Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:03:48.551Z] Building nodejs source
[debug] [2025-04-02T04:03:48.551Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:03:48.552Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:03:48.562Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: getUsersStats, listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats, listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[info] +  functions[us-central1-getUsersStats]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getUsersStats). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getUsersStats)."}}
[info] +  functions[us-central1-listUsers]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listUsers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listUsers)."}}
[info] +  functions[us-central1-updateUser]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/updateUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/updateUser)."}}
[info] +  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/deleteUser)."}}
[info] +  functions[us-central1-listCourses]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listCourses). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listCourses)."}}
[info] +  functions[us-central1-updateCourse]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/updateCourse). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/updateCourse)."}}
[info] +  functions[us-central1-deleteCourse]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/deleteCourse). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/deleteCourse)."}}
[info] +  functions[us-central1-getPlatformStats]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getPlatformStats). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/getPlatformStats)."}}
[info] +  functions[us-central1-listPayments]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listPayments). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/listPayments)."}}
[info] +  functions[us-central1-moderateContent]: http function initialized (http://127.0.0.1:5001/espace-etude/us-central1/moderateContent). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/espace-etude/us-central1/moderateContent)."}}
[info] Serving at port 8048

[error] ReferenceError: admin is not defined
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:17:1)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Module.require (node:internal/modules/cjs/loader:1311:12)
    at require (node:internal/modules/helpers:136:16)
    at loadModule (C:\Projects\espace-etude-project\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-04-02T04:03:49.258Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: admin is not defined
[debug] [2025-04-02T04:03:53.169Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:03:54.181Z] Validating nodejs source
[debug] [2025-04-02T04:03:55.678Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:03:55.678Z] Building nodejs source
[debug] [2025-04-02T04:03:55.678Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:03:55.679Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:03:55.686Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8323

[debug] [2025-04-02T04:03:56.358Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[error] ReferenceError: admin is not defined
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:17:1)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Module.require (node:internal/modules/cjs/loader:1311:12)
    at require (node:internal/modules/helpers:136:16)
    at loadModule (C:\Projects\espace-etude-project\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-04-02T04:03:56.549Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: admin is not defined
[debug] [2025-04-02T04:03:57.367Z] Validating nodejs source
[debug] [2025-04-02T04:03:58.599Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:03:58.599Z] Building nodejs source
[debug] [2025-04-02T04:03:58.599Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:03:58.600Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:03:58.607Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-04-02T04:03:58.615Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.616Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.625Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.625Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.626Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.626Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:03:58.626Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[info] Serving at port 8103

[error] ReferenceError: admin is not defined
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:17:1)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Module.require (node:internal/modules/cjs/loader:1311:12)
    at require (node:internal/modules/helpers:136:16)
    at loadModule (C:\Projects\espace-etude-project\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-04-02T04:03:59.454Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: admin is not defined
[debug] [2025-04-02T04:03:59.628Z] Validating nodejs source
[debug] [2025-04-02T04:04:00.876Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:04:00.876Z] Building nodejs source
[debug] [2025-04-02T04:04:00.876Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:04:00.877Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:04:00.884Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8111

[error] ReferenceError: admin is not defined
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:17:1)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Module.require (node:internal/modules/cjs/loader:1311:12)
    at require (node:internal/modules/helpers:136:16)
    at loadModule (C:\Projects\espace-etude-project\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-04-02T04:04:01.640Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: admin is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:04:04.316Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:04.318Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:05.319Z] Validating nodejs source
[debug] [2025-04-02T04:04:06.407Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:04:06.407Z] Building nodejs source
[debug] [2025-04-02T04:04:06.408Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:04:06.414Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:04:06.425Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8489

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:41:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:04:07.377Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:04:25.057Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:04:25.434Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:25.435Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:26.448Z] Validating nodejs source
[debug] [2025-04-02T04:04:27.661Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:04:27.661Z] Building nodejs source
[debug] [2025-04-02T04:04:27.661Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:04:27.662Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:04:27.672Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8049

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:41:25)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:04:28.560Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:04:40.006Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:04:40.463Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:40.464Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:40.468Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:40.469Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:41.475Z] Validating nodejs source
[debug] [2025-04-02T04:04:42.546Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:04:42.546Z] Building nodejs source
[debug] [2025-04-02T04:04:42.546Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:04:42.547Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:04:42.553Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8971

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:41:25)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:04:43.220Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:04:52.940Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:04:53.469Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:53.470Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:53.476Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:04:53.477Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:04:54.492Z] Validating nodejs source
[debug] [2025-04-02T04:04:55.774Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:04:55.774Z] Building nodejs source
[debug] [2025-04-02T04:04:55.774Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:04:55.775Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:04:55.783Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8630

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:41:25)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:04:56.512Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:05:28.168Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:05:28.651Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:28.652Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:05:28.656Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:28.658Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:05:29.672Z] Validating nodejs source
[debug] [2025-04-02T04:05:30.911Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:05:30.911Z] Building nodejs source
[debug] [2025-04-02T04:05:30.911Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:05:30.914Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:05:30.923Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8225

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:31:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:05:31.659Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[debug] [2025-04-02T04:05:34.903Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:05:35.345Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:35.346Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:05:36.352Z] Validating nodejs source
[debug] [2025-04-02T04:05:37.432Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:05:37.432Z] Building nodejs source
[debug] [2025-04-02T04:05:37.433Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:05:37.433Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:05:37.439Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8831

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:31:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:05:38.129Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:05:46.029Z] File C:\Projects\espace-etude-project\functions\src\user.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\user.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:05:46.499Z] File C:\Projects\espace-etude-project\functions\lib\user.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:46.504Z] File C:\Projects\espace-etude-project\functions\lib\user.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\user.js changed, reloading triggers"}}
[debug] [2025-04-02T04:05:46.518Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:46.522Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:05:47.525Z] Validating nodejs source
[debug] [2025-04-02T04:05:48.682Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:05:48.682Z] Building nodejs source
[debug] [2025-04-02T04:05:48.682Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:05:48.683Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:05:48.688Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8216

[error] FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:65:19)
    at FirebaseNamespaceInternals.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:54:35)
    at FirebaseNamespace.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:256:30)
    at FirebaseNamespace.ensureApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:266:24)
    at FirebaseNamespace.fn (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:136:25)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\user.js:6:18)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12) {
  errorInfo: {
    code: 'app/no-app',
    message: 'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:05:49.417Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:05:56.253Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:05:56.634Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:05:56.634Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:05:57.650Z] Validating nodejs source
[debug] [2025-04-02T04:05:58.769Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:05:58.769Z] Building nodejs source
[debug] [2025-04-02T04:05:58.770Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:05:58.771Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:05:58.780Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8075

[error] FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:65:19)
    at FirebaseNamespaceInternals.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:54:35)
    at FirebaseNamespace.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:256:30)
    at FirebaseNamespace.ensureApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:266:24)
    at FirebaseNamespace.fn (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:136:25)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\user.js:6:18)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12) {
  errorInfo: {
    code: 'app/no-app',
    message: 'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:05:59.824Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
[debug] [2025-04-02T04:06:01.056Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:06:01.473Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:06:01.475Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:06:02.481Z] Validating nodejs source
[debug] [2025-04-02T04:06:04.041Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:06:04.041Z] Building nodejs source
[debug] [2025-04-02T04:06:04.041Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:06:04.042Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:06:04.049Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8354

[error] FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:65:19)
    at FirebaseNamespaceInternals.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:54:35)
    at FirebaseNamespace.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:256:30)
    at FirebaseNamespace.ensureApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:266:24)
    at FirebaseNamespace.fn (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:136:25)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\user.js:6:18)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12) {
  errorInfo: {
    code: 'app/no-app',
    message: 'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:06:04.746Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:06:11.632Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:06:12.009Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:06:12.010Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:06:13.024Z] Validating nodejs source
[debug] [2025-04-02T04:06:14.090Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:06:14.090Z] Building nodejs source
[debug] [2025-04-02T04:06:14.090Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:06:14.091Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:06:14.096Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8045

[error] FirebaseAppError: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
    at AppStore.getApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:65:19)
    at FirebaseNamespaceInternals.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:54:35)
    at FirebaseNamespace.app (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:256:30)
    at FirebaseNamespace.ensureApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:266:24)
    at FirebaseNamespace.fn (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:136:25)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\user.js:6:18)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12) {
  errorInfo: {
    code: 'app/no-app',
    message: 'The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:06:14.746Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app does not exist. Make sure you call initializeApp() before using any of the Firebase services.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:06:34.869Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:06:35.248Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:06:35.248Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:06:35.722Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:06:36.127Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:06:36.128Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:06:37.143Z] Validating nodejs source
[debug] [2025-04-02T04:06:38.204Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:06:38.204Z] Building nodejs source
[debug] [2025-04-02T04:06:38.204Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:06:38.205Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:06:38.210Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8904

[error] ReferenceError: Cannot access 'admin' before initialization
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\index.js:27:1)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Module.require (node:internal/modules/cjs/loader:1311:12)
    at require (node:internal/modules/helpers:136:16)
    at loadModule (C:\Projects\espace-etude-project\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-04-02T04:06:38.467Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: Cannot access 'admin' before initialization
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:06:46.357Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:06:46.760Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:06:46.760Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:06:47.769Z] Validating nodejs source
[debug] [2025-04-02T04:06:48.831Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:06:48.831Z] Building nodejs source
[debug] [2025-04-02T04:06:48.831Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:06:48.832Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:06:48.837Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8238

[debug] [2025-04-02T04:06:49.487Z] Got response from /__/functions.yaml {"endpoints":{"getUsersStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUsersStats"},"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: getUsersStats, listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: getUsersStats, listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:07:30.540Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:07:31.031Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:07:31.031Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:07:32.041Z] Validating nodejs source
[debug] [2025-04-02T04:07:33.482Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:07:33.482Z] Building nodejs source
[debug] [2025-04-02T04:07:33.482Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:07:33.483Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:07:33.490Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8230

[debug] [2025-04-02T04:07:34.143Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:07:34.610Z] File C:\Projects\espace-etude-project\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:07:35.023Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:07:35.025Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:07:36.034Z] Validating nodejs source
[debug] [2025-04-02T04:07:38.299Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:07:38.299Z] Building nodejs source
[debug] [2025-04-02T04:07:38.300Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:07:38.301Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:07:38.311Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[info] Serving at port 8319

[debug] [2025-04-02T04:07:39.030Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:08:23.370Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:08:23.370Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:08:23.371Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:08:23.370Z"],"workRunningCount":1}
[debug] [2025-04-02T04:08:23.371Z] Accepted request GET /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:08:23.378Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:08:23.380Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:08:23.399Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:08:23.400Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=1"}}
[debug] [2025-04-02T04:08:24.996Z] [runtime-status] [7416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:24.997Z] [runtime-status] [7416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:24.997Z] [runtime-status] [7416] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:08:24.998Z] [runtime-status] [7416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:25.390Z] [runtime-status] [7416] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:08:25.390Z] [runtime-status] [7416] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:08:25.391Z] [runtime-status] [7416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:25.477Z] [runtime-status] [7416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:25.480Z] [runtime-status] [7416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:08:25.481Z] [runtime-status] [7416] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:08:25.484Z] [runtime-status] [7416] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:08:25.492Z] [runtime-status] [7416] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:08:25.492Z] [runtime-status] [7416] Listening to port: \\?\pipe\fire_emu_862f52f95a12b248 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7416] Listening to port: \\\\?\\pipe\\fire_emu_862f52f95a12b248"}}
[debug] [2025-04-02T04:08:25.595Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: IDLE"}}
[debug] [2025-04-02T04:08:25.595Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:08:25.596Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request has invalid method. GET"} {"user":{"severity":"WARNING","message":"Request has invalid method. GET"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request has invalid method. GET\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:08:25.605Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 9.2509ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 9.2509ms"}}
[debug] [2025-04-02T04:08:25.606Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: IDLE"}}
[debug] [2025-04-02T04:08:25.606Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:08:25.606Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:08:25.607Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:08:25.738Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-04-02T04:16:08.780Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:16:09.786Z] Validating nodejs source
[debug] [2025-04-02T04:16:19.868Z] checkFunctionsSDKVersion was unable to fetch information from NPM Error: spawnSync C:\WINDOWS\system32\cmd.exe ETIMEDOUT
    at Object.spawnSync (node:internal/child_process:1120:20)
    at Object.spawnSync (node:child_process:868:24)
    at Function.spawnSync [as sync] (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\node_modules\cross-spawn\index.js:26:23)
    at Object.getLatestSDKVersion (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\versioning.js:54:25)
    at Object.checkFunctionsSDKVersion (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\versioning.js:74:32)
    at Delegate.validate (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\index.js:86:20)
    at FunctionsEmulator.discoverTriggers (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\lib\emulator\functionsEmulator.js:331:35)
    at async FunctionsEmulator.loadTriggers (C:\Users\abidh\AppData\Local\nvm\v22.14.0\node_modules\firebase-tools\lib\emulator\functionsEmulator.js:371:34)
[debug] [2025-04-02T04:16:19.869Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:16:19.869Z] Building nodejs source
[debug] [2025-04-02T04:16:19.869Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:16:19.870Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:16:19.879Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-04-02T04:16:19.922Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:16:19.930Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:16:19.930Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:16:19.930Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:16:20.932Z] Validating nodejs source
[debug] [2025-04-02T04:16:28.872Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:16:28.872Z] Building nodejs source
[debug] [2025-04-02T04:16:28.872Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:16:28.874Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:16:28.882Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8606

[info] Serving at port 8261

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:32:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:32:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2025-04-02T04:16:50.436Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:16:50.990Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:16:50.992Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:16:52.007Z] Validating nodejs source
[debug] [2025-04-02T04:16:53.267Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:16:53.267Z] Building nodejs source
[debug] [2025-04-02T04:16:53.267Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:16:53.268Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:16:53.274Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8986

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:35:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T04:16:54.139Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T04:17:19.861Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:17:20.294Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:17:20.295Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:17:20.297Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:17:20.301Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T04:17:21.313Z] Validating nodejs source
[debug] [2025-04-02T04:17:22.422Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:17:22.422Z] Building nodejs source
[debug] [2025-04-02T04:17:22.422Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:17:22.423Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:17:22.428Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8932

[debug] [2025-04-02T04:17:22.898Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:17:26.939Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:17:26.939Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: FINISHING"}}
[debug] [2025-04-02T04:17:26.951Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: exited"}}
[debug] [2025-04-02T04:17:26.951Z] [worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-016f1aaf-7398-4bb0-a8af-94d075c7c2f3]: FINISHED"}}
[debug] [2025-04-02T04:18:17.148Z] File C:\Projects\espace-etude-project\functions\src\adminHttp.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\adminHttp.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:18:18.152Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:18:18.153Z] Validating nodejs source
[debug] [2025-04-02T04:18:19.306Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:18:19.307Z] Building nodejs source
[debug] [2025-04-02T04:18:19.307Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:18:19.309Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:18:19.316Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-04-02T04:18:19.320Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js changed, reloading triggers"}}
[debug] [2025-04-02T04:18:19.321Z] Validating nodejs source
[debug] [2025-04-02T04:18:20.407Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:18:20.407Z] Building nodejs source
[debug] [2025-04-02T04:18:20.408Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:18:20.409Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js.map changed, reloading triggers"}}
[info] Serving at port 8224

[debug] [2025-04-02T04:18:20.412Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:18:20.418Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8282

[debug] [2025-04-02T04:18:20.802Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:18:21.005Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:18:21.414Z] Validating nodejs source
[debug] [2025-04-02T04:18:22.513Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:18:22.513Z] Building nodejs source
[debug] [2025-04-02T04:18:22.513Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:18:22.514Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:18:22.519Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8117

[debug] [2025-04-02T04:18:23.007Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:20:30.704Z] File C:\Projects\espace-etude-project\functions\src\adminHttp.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\adminHttp.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:20:31.716Z] Validating nodejs source
[debug] [2025-04-02T04:20:33.001Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:20:33.001Z] Building nodejs source
[debug] [2025-04-02T04:20:33.001Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:20:33.002Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:20:33.011Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8354

[debug] [2025-04-02T04:20:33.549Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:20:52.142Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:20:52.142Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:20:52.142Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:20:52.142Z"],"workRunningCount":1}
[debug] [2025-04-02T04:20:52.142Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:20:52.154Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:20:52.155Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:20:52.155Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 1 --> 0"}}
[debug] [2025-04-02T04:20:52.164Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:20:52.164Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=1"}}
[debug] [2025-04-02T04:21:07.462Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:21:07.462Z"],"queueLength":1,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:20:52.142Z"],"workRunningCount":1}
[debug] [2025-04-02T04:21:07.462Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:20:52.142Z","/espace-etude/us-central1/getPlatformStats-2025-04-02T04:21:07.462Z"],"workRunningCount":2}
[debug] [2025-04-02T04:21:07.462Z] Accepted request GET /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:21:07.466Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:21:07.466Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:21:07.481Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:21:07.483Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:21:21.840Z] [runtime-status] [14356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:21.840Z] [runtime-status] [13604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:21.842Z] [runtime-status] [14356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:21.842Z] [runtime-status] [13604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:21.843Z] [runtime-status] [13604] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:21:21.843Z] [runtime-status] [14356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:21:21.844Z] [runtime-status] [13604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:21.845Z] [runtime-status] [14356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[error] !!  functions: Failed to handle request for function us-central1-getPlatformStats {"metadata":{"emulator":{"name":"functions"},"message":"Failed to handle request for function us-central1-getPlatformStats"}}
[error] !!  functions: Failed to start functions in C:\Projects\espace-etude-project\functions: FirebaseError: Failed to load function. {"metadata":{"emulator":{"name":"functions"},"message":"Failed to start functions in C:\\Projects\\espace-etude-project\\functions: FirebaseError: Failed to load function."}}
[debug] [2025-04-02T04:21:22.226Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:21:07.462Z"],"workRunningCount":1}
[debug] [2025-04-02T04:21:22.317Z] [runtime-status] [14356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:21:22.317Z] [runtime-status] [13604] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:21:22.317Z] [runtime-status] [14356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:21:22.318Z] [runtime-status] [13604] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:21:22.318Z] [runtime-status] [14356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.319Z] [runtime-status] [13604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.384Z] [runtime-status] [14356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.384Z] [runtime-status] [13604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.388Z] [runtime-status] [14356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.388Z] [runtime-status] [13604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:21:22.388Z] [runtime-status] [14356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:21:22.388Z] [runtime-status] [13604] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:21:22.393Z] [runtime-status] [14356] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:21:22.393Z] [runtime-status] [13604] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:21:22.406Z] [runtime-status] [14356] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:21:22.406Z] [runtime-status] [13604] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:21:22.407Z] [runtime-status] [14356] Listening to port: \\?\pipe\fire_emu_9adc22d51a060a11 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [14356] Listening to port: \\\\?\\pipe\\fire_emu_9adc22d51a060a11"}}
[debug] [2025-04-02T04:21:22.407Z] [runtime-status] [13604] Listening to port: \\?\pipe\fire_emu_aaf892756e7a9032 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [13604] Listening to port: \\\\?\\pipe\\fire_emu_aaf892756e7a9032"}}
[debug] [2025-04-02T04:21:22.482Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE"}}
[debug] [2025-04-02T04:21:22.483Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:21:22.483Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request has invalid method. GET"} {"user":{"severity":"WARNING","message":"Request has invalid method. GET"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request has invalid method. GET\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:21:22.493Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 9.8632ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 9.8632ms"}}
[debug] [2025-04-02T04:21:22.493Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE"}}
[debug] [2025-04-02T04:21:22.494Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:21:22.494Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:21:22.494Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:21:34.813Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:21:34.813Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:21:34.814Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:21:34.813Z"],"workRunningCount":1}
[debug] [2025-04-02T04:21:34.814Z] Accepted request GET /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:21:34.817Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:21:34.817Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:21:34.817Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:21:34.817Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request has invalid method. GET"} {"user":{"severity":"WARNING","message":"Request has invalid method. GET"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request has invalid method. GET\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:21:34.824Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 6.4324ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 6.4324ms"}}
[debug] [2025-04-02T04:21:34.824Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: IDLE"}}
[debug] [2025-04-02T04:21:34.825Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:21:34.825Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:21:34.825Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:22:01.228Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:22:01.638Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:22:01.639Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:22:02.647Z] Validating nodejs source
[debug] [2025-04-02T04:22:04.099Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:22:04.099Z] Building nodejs source
[debug] [2025-04-02T04:22:04.099Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:22:04.100Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:22:04.105Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8017

[debug] [2025-04-02T04:22:04.678Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:22:08.709Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:22:08.709Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: FINISHING"}}
[debug] [2025-04-02T04:22:08.724Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: exited"}}
[debug] [2025-04-02T04:22:08.724Z] [worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-82f3fa82-2af3-4e85-98cf-be9b6dedaa31]: FINISHED"}}
[debug] [2025-04-02T04:22:35.236Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:22:35.236Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:22:35.237Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:22:35.236Z"],"workRunningCount":1}
[debug] [2025-04-02T04:22:35.237Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:22:35.239Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:22:35.239Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:22:35.239Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:22:35.247Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:22:35.248Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:22:36.941Z] [runtime-status] [8884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:36.942Z] [runtime-status] [8884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:36.943Z] [runtime-status] [8884] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:22:36.944Z] [runtime-status] [8884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:37.419Z] [runtime-status] [8884] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:22:37.419Z] [runtime-status] [8884] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:22:37.420Z] [runtime-status] [8884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:37.427Z] [runtime-status] [8884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:37.432Z] [runtime-status] [8884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:22:37.433Z] [runtime-status] [8884] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:22:37.437Z] [runtime-status] [8884] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:22:37.446Z] [runtime-status] [8884] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:22:37.446Z] [runtime-status] [8884] Listening to port: \\?\pipe\fire_emu_05364a500d8cc9f6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8884] Listening to port: \\\\?\\pipe\\fire_emu_05364a500d8cc9f6"}}
[debug] [2025-04-02T04:22:37.555Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:22:37.555Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:22:37.555Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request has incorrect Content-Type. "} {"user":{"severity":"WARNING","message":"Request has incorrect Content-Type. "},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request has incorrect Content-Type. \"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:22:37.568Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 12.5629ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 12.5629ms"}}
[debug] [2025-04-02T04:22:37.568Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:22:37.568Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:22:37.569Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:22:37.569Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:20.600Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:20.600Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:20.600Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:20.600Z"],"workRunningCount":1}
[debug] [2025-04-02T04:23:20.600Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:23:20.602Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:23:20.603Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:23:20.603Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:23:20.603Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request body is missing data."} {"user":{"severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:23:20.802Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 198.9107ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 198.9107ms"}}
[debug] [2025-04-02T04:23:20.802Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:23:20.802Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:23:20.802Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:23:20.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:27.448Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:27.448Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:27.448Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:27.448Z"],"workRunningCount":1}
[debug] [2025-04-02T04:23:27.448Z] Accepted request GET /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:23:27.450Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:23:27.450Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:23:27.450Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:23:27.451Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request has invalid method. GET"} {"user":{"severity":"WARNING","message":"Request has invalid method. GET"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request has invalid method. GET\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:23:27.453Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 2.5745ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 2.5745ms"}}
[debug] [2025-04-02T04:23:27.453Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:23:27.453Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:23:27.453Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:23:27.453Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:47.730Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:47.730Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:23:47.730Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:23:47.730Z"],"workRunningCount":1}
[debug] [2025-04-02T04:23:47.731Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:23:47.732Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:23:47.733Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:23:47.733Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:23:47.733Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request body is missing data."} {"user":{"severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:23:47.736Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 3.552ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 3.552ms"}}
[debug] [2025-04-02T04:23:47.737Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:23:47.737Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:23:47.737Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:23:47.737Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:24:41.338Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:24:41.338Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:24:41.338Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:24:41.338Z"],"workRunningCount":1}
[debug] [2025-04-02T04:24:41.338Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:24:41.341Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:24:41.341Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:24:41.341Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:24:41.341Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request body is missing data."} {"user":{"severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:24:41.346Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 4.7859ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 4.7859ms"}}
[debug] [2025-04-02T04:24:41.346Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:24:41.346Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:24:41.347Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:24:41.347Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:25:07.790Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:25:07.790Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:25:07.790Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:25:07.790Z"],"workRunningCount":1}
[debug] [2025-04-02T04:25:07.790Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:25:07.793Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:25:07.793Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:25:07.793Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:25:07.794Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"request":"hello world","severity":"WARNING","message":"Request body is missing data."} {"user":{"request":"hello world","severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"request\":\"hello world\",\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:25:07.799Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 4.8999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 4.8999ms"}}
[debug] [2025-04-02T04:25:07.799Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:25:07.799Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:25:07.799Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:25:07.799Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:25:36.712Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:25:37.110Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:25:37.112Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:25:38.125Z] Validating nodejs source
[debug] [2025-04-02T04:25:39.223Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:25:39.224Z] Building nodejs source
[debug] [2025-04-02T04:25:39.224Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:25:39.225Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:25:39.230Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8787

[debug] [2025-04-02T04:25:39.692Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:25:42.739Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:25:42.739Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:25:42.739Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:25:42.739Z"],"workRunningCount":1}
[debug] [2025-04-02T04:25:42.739Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:25:42.741Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:25:42.741Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:25:42.741Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:25:42.741Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: BUSY"}}
[info] >  {"request":"hello world","severity":"WARNING","message":"Request body is missing data."} {"user":{"request":"hello world","severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"request\":\"hello world\",\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:25:42.744Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 3.2075ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 3.2075ms"}}
[debug] [2025-04-02T04:25:42.745Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: IDLE"}}
[debug] [2025-04-02T04:25:42.745Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:25:42.745Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:25:42.745Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:25:43.732Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:25:43.732Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: FINISHING"}}
[debug] [2025-04-02T04:25:43.749Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: exited"}}
[debug] [2025-04-02T04:25:43.749Z] [worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-31be95dc-0a28-4ce9-8ff7-31636a6683d8]: FINISHED"}}
[debug] [2025-04-02T04:26:21.344Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:26:21.765Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:26:21.766Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:26:22.772Z] Validating nodejs source
[debug] [2025-04-02T04:26:23.879Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:26:23.879Z] Building nodejs source
[debug] [2025-04-02T04:26:23.879Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:26:23.880Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:26:23.885Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8893

[debug] [2025-04-02T04:26:24.387Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:26:42.904Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:26:42.904Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:26:42.904Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:26:42.904Z"],"workRunningCount":1}
[debug] [2025-04-02T04:26:42.905Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:26:42.907Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:26:42.907Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:26:42.907Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:26:42.917Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:26:42.917Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:26:44.755Z] [runtime-status] [8956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:44.758Z] [runtime-status] [8956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:44.759Z] [runtime-status] [8956] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:26:44.761Z] [runtime-status] [8956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:45.239Z] [runtime-status] [8956] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:26:45.240Z] [runtime-status] [8956] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:26:45.241Z] [runtime-status] [8956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:45.248Z] [runtime-status] [8956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:45.251Z] [runtime-status] [8956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:26:45.251Z] [runtime-status] [8956] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:26:45.254Z] [runtime-status] [8956] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:26:45.263Z] [runtime-status] [8956] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:26:45.264Z] [runtime-status] [8956] Listening to port: \\?\pipe\fire_emu_6f450bb28a37419c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [8956] Listening to port: \\\\?\\pipe\\fire_emu_6f450bb28a37419c"}}
[debug] [2025-04-02T04:26:45.333Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE"}}
[debug] [2025-04-02T04:26:45.333Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:26:45.333Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY"}}
[info] >  {"auth":{"uid":"hello world"},"severity":"WARNING","message":"Request body is missing data."} {"user":{"auth":{"uid":"hello world"},"severity":"WARNING","message":"Request body is missing data."},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"auth\":{\"uid\":\"hello world\"},\"severity\":\"WARNING\",\"message\":\"Request body is missing data.\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:26:45.354Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 21.1176ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 21.1176ms"}}
[debug] [2025-04-02T04:26:45.355Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE"}}
[debug] [2025-04-02T04:26:45.355Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:26:45.355Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:26:45.355Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:28:20.487Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:28:20.487Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:28:20.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:28:20.487Z"],"workRunningCount":1}
[debug] [2025-04-02T04:28:20.487Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:28:20.489Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:28:20.489Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:28:20.489Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:28:20.489Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY"}}
[info] >  {"severity":"WARNING","message":"Request body has extra fields:  auth"} {"user":{"severity":"WARNING","message":"Request body has extra fields:  auth"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Request body has extra fields:  auth\"}"}}
[info] >  {"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"} {"user":{"severity":"ERROR","message":"Error: Invalid request, unable to process.\n    at entryFromArgs (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:133:19)\n    at Object.error (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\logger\\index.js:120:11)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:431:24\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:392:25\n    at cors (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:188:7)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:214:15)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Projects\\espace-etude-project\\functions\\node_modules\\cors\\lib\\index.js:204:7)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error: Invalid request, unable to process.\\n    at entryFromArgs (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:133:19)\\n    at Object.error (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\logger\\\\index.js:120:11)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:431:24\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:392:25\\n    at cors (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:188:7)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:224:17\\n    at originCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:214:15)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:219:13\\n    at optionsCallback (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:199:9)\\n    at corsMiddleware (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\cors\\\\lib\\\\index.js:204:7)\"}"}}
[debug] [2025-04-02T04:28:20.494Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 4.8318ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 4.8318ms"}}
[debug] [2025-04-02T04:28:20.495Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE"}}
[debug] [2025-04-02T04:28:20.495Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:28:20.495Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:28:20.495Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:28:48.329Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:28:48.329Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:28:48.329Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:28:48.329Z"],"workRunningCount":1}
[debug] [2025-04-02T04:28:48.329Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:28:48.331Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:28:48.332Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:28:48.332Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:28:48.332Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats {"user":"getPlatformStats","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats"}}
[warn] !  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:189:65\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:189:65\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:189:65\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:28:48.351Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 18.8184ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 18.8184ms"}}
[debug] [2025-04-02T04:28:48.351Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: IDLE"}}
[debug] [2025-04-02T04:28:48.351Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:28:48.351Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:28:48.352Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-04-02T04:29:41.953Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:29:42.397Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:29:42.398Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:29:43.404Z] Validating nodejs source
[debug] [2025-04-02T04:29:44.764Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:29:44.764Z] Building nodejs source
[debug] [2025-04-02T04:29:44.764Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:29:44.764Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:29:44.771Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8425

[debug] [2025-04-02T04:29:45.307Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:29:49.347Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:29:49.347Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: FINISHING"}}
[debug] [2025-04-02T04:29:49.361Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: exited"}}
[debug] [2025-04-02T04:29:49.361Z] [worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-1ae74ddd-6518-4f58-b3f5-fa9d5fdd3b43]: FINISHED"}}
[debug] [2025-04-02T04:29:58.207Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:29:58.207Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:29:58.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:29:58.207Z"],"workRunningCount":1}
[debug] [2025-04-02T04:29:58.207Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:29:58.209Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:29:58.209Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:29:58.209Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:29:58.217Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:29:58.217Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:29:59.794Z] [runtime-status] [10528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:29:59.796Z] [runtime-status] [10528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:29:59.796Z] [runtime-status] [10528] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:29:59.797Z] [runtime-status] [10528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:30:00.211Z] [runtime-status] [10528] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:30:00.211Z] [runtime-status] [10528] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:30:00.212Z] [runtime-status] [10528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:30:00.219Z] [runtime-status] [10528] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:30:00.222Z] [runtime-status] [10528] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:30:00.222Z] [runtime-status] [10528] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:30:00.224Z] [runtime-status] [10528] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:30:00.233Z] [runtime-status] [10528] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:30:00.234Z] [runtime-status] [10528] Listening to port: \\?\pipe\fire_emu_f4845c24986cdad5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10528] Listening to port: \\\\?\\pipe\\fire_emu_f4845c24986cdad5"}}
[debug] [2025-04-02T04:30:00.295Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: IDLE"}}
[debug] [2025-04-02T04:30:00.295Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:30:00.295Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:189:65\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:189:65\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'fromDate')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:189:65\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:30:00.327Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 31.7521ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 31.7521ms"}}
[debug] [2025-04-02T04:30:00.327Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: IDLE"}}
[debug] [2025-04-02T04:30:00.327Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:30:00.328Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:30:00.328Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-04-02T04:30:57.994Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:30:58.447Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:30:58.448Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:30:59.451Z] Validating nodejs source
[debug] [2025-04-02T04:31:00.539Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:31:00.539Z] Building nodejs source
[debug] [2025-04-02T04:31:00.539Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:31:00.540Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:31:00.545Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8631

[debug] [2025-04-02T04:31:01.073Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:31:05.112Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:31:05.112Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: FINISHING"}}
[debug] [2025-04-02T04:31:05.127Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: exited"}}
[debug] [2025-04-02T04:31:05.127Z] [worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-38640ee2-063a-409a-a10d-702e06728489]: FINISHED"}}
[debug] [2025-04-02T04:31:33.847Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:31:34.266Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:31:34.266Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:31:35.268Z] Validating nodejs source
[debug] [2025-04-02T04:31:36.357Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:31:36.357Z] Building nodejs source
[debug] [2025-04-02T04:31:36.358Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:31:36.358Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:31:36.366Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8068

[debug] [2025-04-02T04:31:36.831Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:31:47.638Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:31:47.638Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:31:47.638Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:31:47.638Z"],"workRunningCount":1}
[debug] [2025-04-02T04:31:47.638Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:31:47.640Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:31:47.640Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:31:47.640Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:31:47.648Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:31:47.648Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:31:49.202Z] [runtime-status] [11292] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.203Z] [runtime-status] [11292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.204Z] [runtime-status] [11292] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:31:49.205Z] [runtime-status] [11292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.596Z] [runtime-status] [11292] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:31:49.596Z] [runtime-status] [11292] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:31:49.597Z] [runtime-status] [11292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.602Z] [runtime-status] [11292] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.607Z] [runtime-status] [11292] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:31:49.608Z] [runtime-status] [11292] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:31:49.611Z] [runtime-status] [11292] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:31:49.619Z] [runtime-status] [11292] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:31:49.619Z] [runtime-status] [11292] Listening to port: \\?\pipe\fire_emu_2e9f20a18d7397e7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [11292] Listening to port: \\\\?\\pipe\\fire_emu_2e9f20a18d7397e7"}}
[debug] [2025-04-02T04:31:49.724Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE"}}
[debug] [2025-04-02T04:31:49.725Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:31:49.725Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:200:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:200:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:200:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:31:51.677Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 1952.2667999999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 1952.2667999999999ms"}}
[debug] [2025-04-02T04:31:51.678Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE"}}
[debug] [2025-04-02T04:31:51.678Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:31:51.678Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:31:51.678Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:32:33.996Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:32:34.388Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:32:34.390Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:32:35.398Z] Validating nodejs source
[debug] [2025-04-02T04:32:36.482Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:32:36.482Z] Building nodejs source
[debug] [2025-04-02T04:32:36.482Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:32:36.483Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:32:36.489Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8445

[debug] [2025-04-02T04:32:36.967Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:32:40.619Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:32:40.619Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:32:40.619Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:32:40.619Z"],"workRunningCount":1}
[debug] [2025-04-02T04:32:40.619Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:32:40.622Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:32:40.622Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:32:40.622Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:32:40.622Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:200:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:200:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:200:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:32:40.938Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 315.6965ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 315.6965ms"}}
[debug] [2025-04-02T04:32:40.938Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: IDLE"}}
[debug] [2025-04-02T04:32:40.939Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:32:40.939Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:32:40.939Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:32:40.995Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:32:40.995Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: FINISHING"}}
[debug] [2025-04-02T04:32:41.010Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: exited"}}
[debug] [2025-04-02T04:32:41.010Z] [worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-5dae193d-0c47-471d-af57-40f7828c90e8]: FINISHED"}}
[debug] [2025-04-02T04:32:47.512Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:32:47.511Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:32:47.512Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:32:47.511Z"],"workRunningCount":1}
[debug] [2025-04-02T04:32:47.512Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:32:47.514Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:32:47.514Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:32:47.514Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:32:47.522Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:32:47.522Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:32:49.156Z] [runtime-status] [3204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.157Z] [runtime-status] [3204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.158Z] [runtime-status] [3204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:32:49.159Z] [runtime-status] [3204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.557Z] [runtime-status] [3204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:32:49.558Z] [runtime-status] [3204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:32:49.559Z] [runtime-status] [3204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.569Z] [runtime-status] [3204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.572Z] [runtime-status] [3204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:32:49.573Z] [runtime-status] [3204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:32:49.577Z] [runtime-status] [3204] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:32:49.590Z] [runtime-status] [3204] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:32:49.590Z] [runtime-status] [3204] Listening to port: \\?\pipe\fire_emu_102dd8c3ec9ca509 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3204] Listening to port: \\\\?\\pipe\\fire_emu_102dd8c3ec9ca509"}}
[debug] [2025-04-02T04:32:49.611Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE"}}
[debug] [2025-04-02T04:32:49.611Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:32:49.611Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:207:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:32:51.641Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 2029.6973ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 2029.6973ms"}}
[debug] [2025-04-02T04:32:51.641Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE"}}
[debug] [2025-04-02T04:32:51.641Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:32:51.641Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:32:51.641Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:11.639Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:33:12.039Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:33:12.040Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:33:13.046Z] Validating nodejs source
[debug] [2025-04-02T04:33:14.200Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:33:14.200Z] Building nodejs source
[debug] [2025-04-02T04:33:14.200Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:33:14.201Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:33:14.207Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8018

[debug] [2025-04-02T04:33:14.684Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:33:16.132Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:16.132Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:16.132Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:16.132Z"],"workRunningCount":1}
[debug] [2025-04-02T04:33:16.132Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:33:16.133Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:33:16.134Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:33:16.134Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:33:16.134Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:207:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:33:16.908Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 774.5754ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 774.5754ms"}}
[debug] [2025-04-02T04:33:16.909Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE"}}
[debug] [2025-04-02T04:33:16.909Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:33:16.909Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:33:16.909Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:18.558Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:18.558Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:18.558Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:18.558Z"],"workRunningCount":1}
[debug] [2025-04-02T04:33:18.558Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:33:18.559Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:33:18.559Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:33:18.559Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:33:18.560Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:33:18.721Z] [worker-pool] Marking BUSY worker to finish (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:33:18.722Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: FINISHING"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:207:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:33:18.926Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 366.6964ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 366.6964ms"}}
[debug] [2025-04-02T04:33:18.927Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: IDLE --> FINISHING"}}
[debug] [2025-04-02T04:33:18.927Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:33:18.927Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:33:18.927Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:18.953Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: exited"}}
[debug] [2025-04-02T04:33:18.954Z] [worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-00ec6fe6-c9f9-4ad0-8961-a7acef480faa]: FINISHED"}}
[debug] [2025-04-02T04:33:27.919Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:27.919Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:33:27.919Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:33:27.919Z"],"workRunningCount":1}
[debug] [2025-04-02T04:33:27.919Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:33:27.921Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:33:27.921Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:33:27.921Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:33:27.929Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:33:27.929Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:33:29.706Z] [runtime-status] [3960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:29.707Z] [runtime-status] [3960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:29.708Z] [runtime-status] [3960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:33:29.709Z] [runtime-status] [3960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:30.109Z] [runtime-status] [3960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:33:30.109Z] [runtime-status] [3960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:33:30.110Z] [runtime-status] [3960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:30.116Z] [runtime-status] [3960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:30.118Z] [runtime-status] [3960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:33:30.118Z] [runtime-status] [3960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:33:30.121Z] [runtime-status] [3960] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:33:30.129Z] [runtime-status] [3960] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:33:30.129Z] [runtime-status] [3960] Listening to port: \\?\pipe\fire_emu_d9144185e68de118 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [3960] Listening to port: \\\\?\\pipe\\fire_emu_d9144185e68de118"}}
[debug] [2025-04-02T04:33:30.235Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: IDLE"}}
[debug] [2025-04-02T04:33:30.235Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:33:30.235Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- {"user":"getPlatformStats ---------------","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats ---------------"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-04-02T04:33:32.165Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 1929.6844999999998ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 1929.6844999999998ms"}}
[debug] [2025-04-02T04:33:32.165Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: IDLE"}}
[debug] [2025-04-02T04:33:32.165Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:33:32.165Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:33:32.166Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:37:00.882Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:37:01.364Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:37:01.364Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:37:02.370Z] Validating nodejs source
[debug] [2025-04-02T04:37:03.658Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:37:03.658Z] Building nodejs source
[debug] [2025-04-02T04:37:03.658Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:37:03.658Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:37:03.665Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8793

[debug] [2025-04-02T04:37:04.149Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:37:08.184Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:37:08.185Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: FINISHING"}}
[debug] [2025-04-02T04:37:08.198Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: exited"}}
[debug] [2025-04-02T04:37:08.198Z] [worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-eec81672-d3f9-4897-9a0a-1b92343eef15]: FINISHED"}}
[debug] [2025-04-02T04:39:50.269Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:39:50.687Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:39:50.689Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:39:51.697Z] Validating nodejs source
[debug] [2025-04-02T04:39:52.760Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:39:52.761Z] Building nodejs source
[debug] [2025-04-02T04:39:52.761Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:39:52.763Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:39:52.768Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8169

[debug] [2025-04-02T04:39:53.229Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:39:58.145Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:39:58.145Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:39:58.145Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:39:58.145Z"],"workRunningCount":1}
[debug] [2025-04-02T04:39:58.145Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:39:58.147Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:39:58.147Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:39:58.147Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:39:58.155Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:39:58.155Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:39:59.755Z] [runtime-status] [1608] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:39:59.757Z] [runtime-status] [1608] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:39:59.758Z] [runtime-status] [1608] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:39:59.759Z] [runtime-status] [1608] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:00.283Z] [runtime-status] [1608] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:40:00.283Z] [runtime-status] [1608] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:00.284Z] [runtime-status] [1608] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:00.292Z] [runtime-status] [1608] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:00.294Z] [runtime-status] [1608] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:00.295Z] [runtime-status] [1608] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:00.297Z] [runtime-status] [1608] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:40:00.306Z] [runtime-status] [1608] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:40:00.306Z] [runtime-status] [1608] Listening to port: \\?\pipe\fire_emu_34b743960245f60b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [1608] Listening to port: \\\\?\\pipe\\fire_emu_34b743960245f60b"}}
[debug] [2025-04-02T04:40:00.370Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE"}}
[debug] [2025-04-02T04:40:00.371Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:40:00.371Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- undefined {"user":"getPlatformStats --------------- \u001b[90mundefined\u001b[39m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats --------------- \u001b[90mundefined\u001b[39m"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:208:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:208:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:208:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:40:02.430Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 2059.2066ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 2059.2066ms"}}
[debug] [2025-04-02T04:40:02.431Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE"}}
[debug] [2025-04-02T04:40:02.431Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:40:02.431Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:40:02.431Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:40:08.611Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:40:09.020Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:40:09.021Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:40:10.034Z] Validating nodejs source
[debug] [2025-04-02T04:40:11.166Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:40:11.166Z] Building nodejs source
[debug] [2025-04-02T04:40:11.167Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:40:11.167Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:40:11.172Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8667

[debug] [2025-04-02T04:40:11.676Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:40:12.319Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:12.319Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:40:12.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:12.319Z"],"workRunningCount":1}
[debug] [2025-04-02T04:40:12.319Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:40:12.321Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:40:12.321Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:40:12.321Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:40:12.321Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- undefined {"user":"getPlatformStats --------------- \u001b[90mundefined\u001b[39m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats --------------- \u001b[90mundefined\u001b[39m"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:208:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:208:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:208:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:40:12.619Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 298.0772ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 298.0772ms"}}
[debug] [2025-04-02T04:40:12.620Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: IDLE"}}
[debug] [2025-04-02T04:40:12.620Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:40:12.620Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:40:12.620Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:40:15.714Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:40:15.714Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: FINISHING"}}
[debug] [2025-04-02T04:40:15.730Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: exited"}}
[debug] [2025-04-02T04:40:15.730Z] [worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-ee3e5c93-1cf6-42b8-a3a0-45d5e59a8de7]: FINISHED"}}
[debug] [2025-04-02T04:40:16.615Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:16.615Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:40:16.616Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:16.615Z"],"workRunningCount":1}
[debug] [2025-04-02T04:40:16.616Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:40:16.616Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:40:16.616Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:40:16.617Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:40:16.628Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:40:16.629Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:40:18.334Z] [runtime-status] [5752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.336Z] [runtime-status] [5752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.336Z] [runtime-status] [5752] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:40:18.337Z] [runtime-status] [5752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.762Z] [runtime-status] [5752] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:40:18.764Z] [runtime-status] [5752] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:18.764Z] [runtime-status] [5752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.769Z] [runtime-status] [5752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.773Z] [runtime-status] [5752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:18.773Z] [runtime-status] [5752] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:18.776Z] [runtime-status] [5752] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:40:18.784Z] [runtime-status] [5752] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:40:18.784Z] [runtime-status] [5752] Listening to port: \\?\pipe\fire_emu_1a7ac7b4014009e9 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [5752] Listening to port: \\\\?\\pipe\\fire_emu_1a7ac7b4014009e9"}}
[debug] [2025-04-02T04:40:18.823Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: IDLE"}}
[debug] [2025-04-02T04:40:18.823Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:40:18.823Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- [Function: bound fn] {"user":"getPlatformStats --------------- \u001b[36m[Function: bound fn]\u001b[39m","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats --------------- \u001b[36m[Function: bound fn]\u001b[39m"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:207:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:26\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:207:46\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:26\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:40:20.716Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 1893.1221ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 1893.1221ms"}}
[debug] [2025-04-02T04:40:20.717Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: IDLE"}}
[debug] [2025-04-02T04:40:20.717Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:40:20.717Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:40:20.717Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:40:36.547Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:40:36.922Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:40:36.923Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T04:40:37.937Z] Validating nodejs source
[debug] [2025-04-02T04:40:39.007Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:40:39.007Z] Building nodejs source
[debug] [2025-04-02T04:40:39.007Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:40:39.008Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:40:39.013Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8291

[debug] [2025-04-02T04:40:39.481Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:40:43.509Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:40:43.509Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: FINISHING"}}
[debug] [2025-04-02T04:40:43.524Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: exited"}}
[debug] [2025-04-02T04:40:43.525Z] [worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-02364501-4053-4262-b56e-4613df568ecd]: FINISHED"}}
[debug] [2025-04-02T04:40:49.563Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:49.562Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:40:49.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:40:49.562Z"],"workRunningCount":1}
[debug] [2025-04-02T04:40:49.563Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:40:49.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:40:49.565Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:40:49.565Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:40:49.573Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:40:49.573Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:40:51.269Z] [runtime-status] [10264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.271Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.272Z] [runtime-status] [10264] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:40:51.272Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.725Z] [runtime-status] [10264] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:40:51.726Z] [runtime-status] [10264] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:51.727Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.733Z] [runtime-status] [10264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.736Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:40:51.736Z] [runtime-status] [10264] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:40:51.739Z] [runtime-status] [10264] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:40:51.747Z] [runtime-status] [10264] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:40:51.748Z] [runtime-status] [10264] Listening to port: \\?\pipe\fire_emu_49dad44b02f67f23 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [10264] Listening to port: \\\\?\\pipe\\fire_emu_49dad44b02f67f23"}}
[debug] [2025-04-02T04:40:51.855Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE"}}
[debug] [2025-04-02T04:40:51.856Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:40:51.856Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:179:125\\n    at fixedLen (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\providers\\\\https.js:157:37)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:32\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:40:51.882Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 25.7984ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 25.7984ms"}}
[debug] [2025-04-02T04:40:51.882Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE"}}
[debug] [2025-04-02T04:40:51.882Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:40:51.882Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:40:51.882Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:00.385Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:00.385Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:00.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:00.385Z"],"workRunningCount":1}
[debug] [2025-04-02T04:41:00.385Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:41:00.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:41:00.387Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:41:00.387Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:41:00.387Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:179:125\\n    at fixedLen (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\providers\\\\https.js:157:37)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:32\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:41:00.393Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 6.0254ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 6.0254ms"}}
[debug] [2025-04-02T04:41:00.393Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE"}}
[debug] [2025-04-02T04:41:00.394Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:41:00.394Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:41:00.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:12.467Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:12.467Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:12.467Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:12.467Z"],"workRunningCount":1}
[debug] [2025-04-02T04:41:12.467Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:41:12.469Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:41:12.469Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:41:12.469Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:41:12.469Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:179:125\\n    at fixedLen (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\providers\\\\https.js:157:37)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:32\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:41:12.476Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 6.2625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 6.2625ms"}}
[debug] [2025-04-02T04:41:12.476Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: IDLE"}}
[debug] [2025-04-02T04:41:12.476Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:41:12.476Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:41:12.476Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:17.387Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:41:17.992Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:41:18.253Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:41:19.258Z] Validating nodejs source
[debug] [2025-04-02T04:41:20.347Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:41:20.348Z] Building nodejs source
[debug] [2025-04-02T04:41:20.348Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:41:20.349Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:41:20.354Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-04-02T04:41:20.359Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[info] Serving at port 8439

[debug] [2025-04-02T04:41:20.837Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:41:21.364Z] Validating nodejs source
[debug] [2025-04-02T04:41:22.430Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:41:22.431Z] Building nodejs source
[debug] [2025-04-02T04:41:22.431Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:41:22.431Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:41:22.437Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8001

[debug] [2025-04-02T04:41:22.910Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:41:24.901Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:41:24.901Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: FINISHING"}}
[debug] [2025-04-02T04:41:24.923Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: exited"}}
[debug] [2025-04-02T04:41:24.923Z] [worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-f3ec9b19-dba2-4cd4-aa6d-5b7301139b6b]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:41:35.104Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:35.104Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:41:35.104Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T04:41:35.104Z"],"workRunningCount":1}
[debug] [2025-04-02T04:41:35.104Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T04:41:35.106Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T04:41:35.106Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T04:41:35.106Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T04:41:35.114Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:41:35.114Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T04:41:36.672Z] [runtime-status] [296] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:36.674Z] [runtime-status] [296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:36.675Z] [runtime-status] [296] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T04:41:36.676Z] [runtime-status] [296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:37.072Z] [runtime-status] [296] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T04:41:37.072Z] [runtime-status] [296] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T04:41:37.073Z] [runtime-status] [296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:37.079Z] [runtime-status] [296] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:37.082Z] [runtime-status] [296] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T04:41:37.082Z] [runtime-status] [296] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T04:41:37.085Z] [runtime-status] [296] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T04:41:37.093Z] [runtime-status] [296] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T04:41:37.093Z] [runtime-status] [296] Listening to port: \\?\pipe\fire_emu_e82fe2ec3205609e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [296] Listening to port: \\\\?\\pipe\\fire_emu_e82fe2ec3205609e"}}
[debug] [2025-04-02T04:41:37.190Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: IDLE"}}
[debug] [2025-04-02T04:41:37.190Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T04:41:37.191Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\n    at C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js:179:125\n    at fixedLen (C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\providers\\https.js:157:37)\n    at C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\common\\providers\\https.js:544:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async runFunction (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:531:5)\n    at async C:\\Users\\abidh\\AppData\\Local\\nvm\\v22.14.0\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:694:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'now')\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\lib\\\\admin.js:179:125\\n    at fixedLen (C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\providers\\\\https.js:157:37)\\n    at C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\common\\\\providers\\\\https.js:544:32\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at async runFunction (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:531:5)\\n    at async C:\\\\Users\\\\abidh\\\\AppData\\\\Local\\\\nvm\\\\v22.14.0\\\\node_modules\\\\firebase-tools\\\\lib\\\\emulator\\\\functionsEmulatorRuntime.js:694:21\"}"}}
[debug] [2025-04-02T04:41:37.217Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 26.7113ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 26.7113ms"}}
[debug] [2025-04-02T04:41:37.218Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: IDLE"}}
[debug] [2025-04-02T04:41:37.218Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T04:41:37.218Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T04:41:37.218Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T04:45:43.895Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:45:43.895Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js changed, reloading triggers"}}
[debug] [2025-04-02T04:45:44.911Z] Validating nodejs source
[debug] [2025-04-02T04:45:46.541Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:45:46.541Z] Building nodejs source
[debug] [2025-04-02T04:45:46.542Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:45:46.542Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:45:46.548Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[debug] [2025-04-02T04:45:46.557Z] File C:\Projects\espace-etude-project\functions\src\adminHttp.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\adminHttp.ts changed, reloading triggers"}}
[debug] [2025-04-02T04:45:46.557Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js.map changed, reloading triggers"}}
[debug] [2025-04-02T04:45:46.561Z] File C:\Projects\espace-etude-project\functions\lib\adminHttp.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\adminHttp.js changed, reloading triggers"}}
[info] Serving at port 8420

[debug] [2025-04-02T04:45:47.095Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T04:45:47.566Z] Validating nodejs source
[debug] [2025-04-02T04:45:48.653Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T04:45:48.653Z] Building nodejs source
[debug] [2025-04-02T04:45:48.653Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T04:45:48.654Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T04:45:48.659Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8853

[debug] [2025-04-02T04:45:49.215Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T04:45:51.124Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T04:45:51.124Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: FINISHING"}}
[debug] [2025-04-02T04:45:51.137Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: exited"}}
[debug] [2025-04-02T04:45:51.137Z] [worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-581fc042-2bae-498e-a651-d428027f9247]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T05:59:56.475Z] File C:\Projects\espace-etude-project\functions\src\adminHttp.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\adminHttp.ts changed, reloading triggers"}}
[debug] [2025-04-02T05:59:57.486Z] Validating nodejs source
[debug] [2025-04-02T05:59:58.957Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T05:59:58.958Z] Building nodejs source
[debug] [2025-04-02T05:59:58.958Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T05:59:58.959Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T05:59:58.966Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8006

[debug] [2025-04-02T05:59:59.600Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T06:01:06.915Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T06:01:07.501Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:01:07.506Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T06:01:07.519Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:01:07.531Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T06:01:08.537Z] Validating nodejs source
[debug] [2025-04-02T06:01:10.123Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T06:01:10.123Z] Building nodejs source
[debug] [2025-04-02T06:01:10.123Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T06:01:10.123Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T06:01:10.130Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8860

[error] FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
    at AppStore.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\lifecycle.js:41:23)
    at FirebaseNamespaceInternals.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:43:35)
    at FirebaseNamespace.initializeApp (C:\Projects\espace-etude-project\functions\node_modules\firebase-admin\lib\app\firebase-namespace.js:246:30)
    at Object.<anonymous> (C:\Projects\espace-etude-project\functions\lib\admin.js:225:7)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24) {
  errorInfo: {
    code: 'app/duplicate-app',
    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'
  },
  codePrefix: 'app'
}

[debug] [2025-04-02T06:01:10.717Z] Got response code 400; body Failed to generate manifest from function source: Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-04-02T06:15:37.930Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T06:15:38.332Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:15:38.332Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T06:15:38.334Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:15:38.337Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T06:15:39.353Z] Validating nodejs source
[debug] [2025-04-02T06:15:40.461Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T06:15:40.461Z] Building nodejs source
[debug] [2025-04-02T06:15:40.461Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T06:15:40.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T06:15:40.467Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8310

[debug] [2025-04-02T06:15:40.951Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T06:16:26.037Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T06:16:26.559Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:16:26.560Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T06:16:27.569Z] Validating nodejs source
[debug] [2025-04-02T06:16:28.642Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T06:16:28.642Z] Building nodejs source
[debug] [2025-04-02T06:16:28.642Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T06:16:28.643Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T06:16:28.648Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8904

[debug] [2025-04-02T06:16:29.218Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T06:16:38.905Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T06:16:38.905Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T06:16:38.906Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T06:16:38.905Z"],"workRunningCount":1}
[debug] [2025-04-02T06:16:38.906Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T06:16:38.908Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T06:16:38.909Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T06:16:38.909Z] [worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getPlatformStats: 2 --> 1"}}
[debug] [2025-04-02T06:16:38.918Z] [worker-pool] addWorker(us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getPlatformStats)"}}
[debug] [2025-04-02T06:16:38.918Z] [worker-pool] Adding worker with key us-central1-getPlatformStats, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getPlatformStats, total=2"}}
[debug] [2025-04-02T06:16:40.505Z] [runtime-status] [7160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.506Z] [runtime-status] [7160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.507Z] [runtime-status] [7160] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-04-02T06:16:40.508Z] [runtime-status] [7160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.915Z] [runtime-status] [7160] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-04-02T06:16:40.915Z] [runtime-status] [7160] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-04-02T06:16:40.916Z] [runtime-status] [7160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.922Z] [runtime-status] [7160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.925Z] [runtime-status] [7160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-04-02T06:16:40.925Z] [runtime-status] [7160] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Projects\\espace-etude-project\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-04-02T06:16:40.928Z] [runtime-status] [7160] initializeApp(DEFAULT) {"storageBucket":"espace-etude.firebasestorage.app","projectId":"espace-etude"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] initializeApp(DEFAULT) {\"storageBucket\":\"espace-etude.firebasestorage.app\",\"projectId\":\"espace-etude\"}"}}
[debug] [2025-04-02T06:16:40.936Z] [runtime-status] [7160] Functions runtime initialized. {"cwd":"C:\\Projects\\espace-etude-project\\functions","node_version":"22.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Functions runtime initialized. {\"cwd\":\"C:\\\\Projects\\\\espace-etude-project\\\\functions\",\"node_version\":\"22.14.0\"}"}}
[debug] [2025-04-02T06:16:40.937Z] [runtime-status] [7160] Listening to port: \\?\pipe\fire_emu_4e7f5fc5a252d928 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[runtime-status] [7160] Listening to port: \\\\?\\pipe\\fire_emu_4e7f5fc5a252d928"}}
[debug] [2025-04-02T06:16:41.013Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE"}}
[debug] [2025-04-02T06:16:41.014Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T06:16:41.014Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- Timestamp { _seconds: 1743574601, _nanoseconds: 32000000 } {"user":"getPlatformStats --------------- Timestamp { _seconds: \u001b[33m1743574601\u001b[39m, _nanoseconds: \u001b[33m32000000\u001b[39m }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats --------------- Timestamp { _seconds: \u001b[33m1743574601\u001b[39m, _nanoseconds: \u001b[33m32000000\u001b[39m }"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2025-04-02T06:16:43.023Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 2009.3317ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 2009.3317ms"}}
[debug] [2025-04-02T06:16:43.024Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE"}}
[debug] [2025-04-02T06:16:43.024Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T06:16:43.024Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T06:16:43.024Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T06:17:10.426Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T06:17:10.936Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:17:10.937Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T06:17:11.938Z] Validating nodejs source
[debug] [2025-04-02T06:17:13.376Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T06:17:13.377Z] Building nodejs source
[debug] [2025-04-02T06:17:13.377Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T06:17:13.377Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T06:17:13.386Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8321

[debug] [2025-04-02T06:17:13.958Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-04-02T06:17:17.637Z] [work-queue] {"queuedWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T06:17:17.637Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-04-02T06:17:17.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/espace-etude/us-central1/getPlatformStats-2025-04-02T06:17:17.637Z"],"workRunningCount":1}
[debug] [2025-04-02T06:17:17.637Z] Accepted request POST /espace-etude/us-central1/getPlatformStats --> us-central1-getPlatformStats
[debug] [2025-04-02T06:17:17.639Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-04-02T06:17:17.640Z] [functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/espace-etude/us-central1/getPlatformStats, mapping to path=/"}}
[debug] [2025-04-02T06:17:17.640Z] [worker-pool] submitRequest(triggerId=us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getPlatformStats)"}}
[info] i  functions: Beginning execution of "us-central1-getPlatformStats" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Beginning execution of \"us-central1-getPlatformStats\""}}
[debug] [2025-04-02T06:17:17.640Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"MISSING"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"MISSING\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  getPlatformStats --------------- Timestamp { _seconds: 1743574637, _nanoseconds: 644000000 } {"user":"getPlatformStats --------------- Timestamp { _seconds: \u001b[33m1743574637\u001b[39m, _nanoseconds: \u001b[33m644000000\u001b[39m }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"\u001b[90m> \u001b[39m getPlatformStats --------------- Timestamp { _seconds: \u001b[33m1743574637\u001b[39m, _nanoseconds: \u001b[33m644000000\u001b[39m }"}}
[debug] [2025-04-02T06:17:17.980Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getPlatformStats" in 340.3238ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finished \"us-central1-getPlatformStats\" in 340.3238ms"}}
[debug] [2025-04-02T06:17:17.981Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: IDLE"}}
[debug] [2025-04-02T06:17:17.981Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-04-02T06:17:17.981Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-04-02T06:17:17.981Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T06:17:17.999Z] [worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getPlatformStats)"}}
[debug] [2025-04-02T06:17:17.999Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: FINISHING"}}
[debug] [2025-04-02T06:17:18.017Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: exited"}}
[debug] [2025-04-02T06:17:18.017Z] [worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getPlatformStats"},"extension":{},"message":"[worker-us-central1-getPlatformStats-578d71c1-098a-45bd-8f54-14c3844669bb]: FINISHED"}}
[debug] [2025-04-02T06:28:59.777Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T06:29:00.225Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T06:29:00.225Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T06:29:01.229Z] Validating nodejs source
[debug] [2025-04-02T06:29:03.625Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T06:29:03.626Z] Building nodejs source
[debug] [2025-04-02T06:29:03.626Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T06:29:03.626Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T06:29:03.632Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8797

[debug] [2025-04-02T06:29:04.232Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T07:10:19.358Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T07:10:19.797Z] File C:\Projects\espace-etude-project\functions\lib\admin.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js.map changed, reloading triggers"}}
[debug] [2025-04-02T07:10:19.798Z] File C:\Projects\espace-etude-project\functions\lib\admin.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\admin.js changed, reloading triggers"}}
[debug] [2025-04-02T07:10:19.805Z] File C:\Projects\espace-etude-project\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2025-04-02T07:10:19.805Z] File C:\Projects\espace-etude-project\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2025-04-02T07:10:20.813Z] Validating nodejs source
[debug] [2025-04-02T07:10:22.291Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T07:10:22.291Z] Building nodejs source
[debug] [2025-04-02T07:10:22.292Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T07:10:22.293Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T07:10:22.303Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8196

[debug] [2025-04-02T07:10:23.058Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
[debug] [2025-04-02T07:11:56.271Z] File C:\Projects\espace-etude-project\functions\src\admin.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Projects\\espace-etude-project\\functions\\src\\admin.ts changed, reloading triggers"}}
[debug] [2025-04-02T07:11:57.277Z] Validating nodejs source
[debug] [2025-04-02T07:11:58.467Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "watch:serve": "concurrently \"npm run build:watch\" \"firebase emulators:start --only functions\""
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2025-04-02T07:11:58.467Z] Building nodejs source
[debug] [2025-04-02T07:11:58.467Z] Failed to find version of module node: reached end of search path C:\Projects\espace-etude-project\functions\node_modules
[info] +  functions: Using node@22 from host. 
[debug] [2025-04-02T07:11:58.468Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-02T07:11:58.473Z] Found firebase-functions binary at 'C:\Projects\espace-etude-project\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8508

[debug] [2025-04-02T07:11:59.022Z] Got response from /__/functions.yaml {"endpoints":{"listUsers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listUsers"},"updateUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateUser"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteUser"},"listCourses":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listCourses"},"updateCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"updateCourse"},"deleteCourse":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"deleteCourse"},"getPlatformStats":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getPlatformStats"},"listPayments":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"listPayments"},"moderateContent":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"moderateContent"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: listUsers, updateUser, deleteUser, listCourses, updateCourse, deleteCourse, getPlatformStats, listPayments, moderateContent."}}
